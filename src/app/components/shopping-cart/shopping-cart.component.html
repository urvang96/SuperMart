<h1>Shopping Cart</h1>

<div *ngIf='shoppingCart'>
  <p>You have {{totalQuantity}} items in your shopping cart </p>


<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  
  <ng-container matColumnDef="Product">
    <th mat-header-cell *matHeaderCellDef> Product </th>
    <td mat-cell *matCellDef="let data"> {{data.productData.title}} </td>
    <td mat-footer-cell *matFooterCellDef> Total </td>
  </ng-container>

  <ng-container matColumnDef="Price">
    <th mat-header-cell *matHeaderCellDef> Price </th>
    <td mat-cell *matCellDef="let data"> {{data.productData.price | currency}} </td>
    <td mat-footer-cell *matFooterCellDef> {{totalPrice | currency}} </td>
  </ng-container>

  <ng-container matColumnDef="Quantity">
    <th mat-header-cell *matHeaderCellDef  class="align-header"> Quantity </th>
    <td mat-cell *matCellDef="let data" class="quantity-size"> 
      <app-product-quantity [product]="data.productData" [cart]="shoppingCart" ></app-product-quantity> 
    </td>
    <td mat-footer-cell *matFooterCellDef class="align-header"> </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
</table>

</div>

<p class='checkout'>
  <a routerLink='/checkout'><button mat-raised-button color="primary" [disabled]="totalQuantity==0">Checkout</button></a>
</p>
